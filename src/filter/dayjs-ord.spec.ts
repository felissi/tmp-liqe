import { DayjsOrd } from "./range";

import { expect, test } from "vitest";
import dayjs from "dayjs";

const testQuery = (x: string, y: string, expectedResultNames: 1 | 0 | -1) => {
  expect(DayjsOrd.compare(dayjs(x), dayjs(y))).toEqual(expectedResultNames);
};
test("2019-5-13>2019-3-13", () => testQuery("2019-5-13", "2019-3-13", 1));
test("2022-10-19 06:20:37 > 2019-08-27 09:28:59", () =>
  testQuery("2022-10-19 06:20:37", "2019-08-27 09:28:59", 1));

test("2019-08-27 09:28:59 < 2022-10-19 06:20:37", () =>
  testQuery("2019-08-27 09:28:59", "2022-10-19 06:20:37", -1));

test("2022-10-19 06:20:37 = 2022-10-19 06:20:37", () =>
  testQuery("2022-10-19 06:20:37", "2022-10-19 06:20:37", 0));

test("2022-10-19 > 2019-08-27", () => testQuery("2022-10-19", "2019-08-27", 1));
test("2019-08-27 < 2022-10-19", () =>
  testQuery("2019-08-27", "2022-10-19", -1));
test("2022-10-19 = 2022-10-19", () => testQuery("2022-10-19", "2022-10-19", 0));

test("2022-10-19 > 2019-08-27", () => testQuery("2022-10-19", "2019-08-27", 1));
test("2019-08-27 < 2022-10-19", () =>
  testQuery("2019-08-27", "2022-10-19", -1));
test("2022-10-19 = 2022-10-19", () => testQuery("2022-10-19", "2022-10-19", 0));

// Additional test cases
test("2022-02-28 > 2022-02-27", () => testQuery("2022-02-28", "2022-02-27", 1));
test("2022-02-27 < 2022-02-28", () =>
  testQuery("2022-02-27", "2022-02-28", -1));
test("2022-02-28 = 2022-02-28", () => testQuery("2022-02-28", "2022-02-28", 0));

test("2021-07-15 > 2021-01-30", () => testQuery("2021-07-15", "2021-01-30", 1));
test("2021-01-30 < 2021-07-15", () =>
  testQuery("2021-01-30", "2021-07-15", -1));
test("2021-01-30 = 2021-01-30", () => testQuery("2021-01-30", "2021-01-30", 0));

test("2023-12-31 > 2023-10-01", () => testQuery("2023-12-31", "2023-10-01", 1));
test("2023-10-01 < 2023-12-31", () =>
  testQuery("2023-10-01", "2023-12-31", -1));
test("2023-12-31 = 2023-12-31", () => testQuery("2023-12-31", "2023-12-31", 0));

// Test cases with hour and minute components
test("2022-10-19 06:20 > 2019-08-27 09:28", () =>
  testQuery("2022-10-19 06:20", "2019-08-27 09:28", 1));
test("2019-08-27 09:28 < 2022-10-19 06:20", () =>
  testQuery("2019-08-27 09:28", "2022-10-19 06:20", -1));
test("2022-10-19 06:20 = 2022-10-19 06:20", () =>
  testQuery("2022-10-19 06:20", "2022-10-19 06:20", 0));
